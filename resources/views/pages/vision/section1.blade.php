@php
    $MenuData = [
        [
            'id' => 1,
            'image' => '/image/4.jpg',
            'name' => 'ESPRESSO',
            'price' => '95 THB',
            'description' => 'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Velit harum facere minima',
            'category' => 'BEEF',
            'size' => '35 sq.m.',
            'view' => 'sea balcony',
            'bed' => 'king size / twin',
        ],
        [
            'id' => 2,
            'image' => '/image/3.jpg',
            'name' => 'AMERICANO',
            'price' => '110 THB',
            'description' => 'Enjoy a cozy stay with modern amenities and a beautiful city view.',
            'category' => 'BEEF',
            'size' => '40 sq.m.',
            'view' => 'city view',
            'bed' => 'queen size',
        ],
        [
            'id' => 3,
            'image' => '/image/2.jpg',
            'name' => 'CAPPUCCINO',
            'price' => '75 THB',
            'description' => 'Experience luxury with spacious rooms and premium services.',
            'category' => 'LAMR',
            'size' => '60 sq.m.',
            'view' => 'ocean view',
            'bed' => 'king size',
        ],
        [
            'id' => 4,
            'image' => '/image/1.jpg',
            'name' => 'LATTE',
            'price' => '50 THB',
            'description' => 'Perfect for families with spacious layout and extra comfort.',
            'category' => 'VEAL',
            'size' => '50 sq.m.',
            'view' => 'garden view',
            'bed' => '2 queen size',
        ],
        [
            'id' => 5,
            'image' => '/image/11.jpg',
            'name' => 'MOCHA',
            'price' => '95 THB',
            'description' => 'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Velit harum facere minima',
            'category' => 'VEAL',
            'size' => '35 sq.m.',
            'view' => 'sea balcony',
            'bed' => 'king size / twin',
        ],
        [
            'id' => 6,
            'image' => '/image/22.jpg',
            'name' => 'MACCHIATO',
            'price' => '100 THB',
            'description' => 'Enjoy a cozy stay with modern amenities and a beautiful city view.',
            'category' => 'PORK',
            'size' => '40 sq.m.',
            'view' => 'city view',
            'bed' => 'queen size',
        ],
        [
            'id' => 7,
            'image' => '/image/33.jpg',
            'name' => 'AFFOGATO',
            'price' => '95 THB',
            'description' => 'Experience luxury with spacious rooms and premium services.',
            'category' => 'PORK',
            'size' => '60 sq.m.',
            'view' => 'ocean view',
            'bed' => 'king size',
        ],
        [
            'id' => 8,
            'image' => '/image/44.jpg',
            'name' => 'CORTADO',
            'price' => '150 THB',
            'description' => 'Perfect for families with spacious layout and extra comfort.',
            'category' => 'FISH',
            'size' => '50 sq.m.',
            'view' => 'garden view',
            'bed' => '2 queen size',
        ],
        [
            'id' => 9,
            'image' => '/image/44.jpg',
            'name' => 'ESPRESSO',
            'price' => '150 THB',
            'description' => 'Perfect for families with spacious layout and extra comfort.',
            'category' => 'SOUP',
            'size' => '50 sq.m.',
            'view' => 'garden view',
            'bed' => '2 queen size',
        ],
        [
            'id' => 10,
            'image' => '/image/44.jpg',
            'name' => 'AMERICANO',
            'price' => '150 THB',
            'description' => 'Perfect for families with spacious layout and extra comfort.',
            'category' => 'SOUP',
            'size' => '50 sq.m.',
            'view' => 'garden view',
            'bed' => '2 queen size',
        ],
        [
            'id' => 11,
            'image' => '/image/44.jpg',
            'name' => 'CAPPUCCINO',
            'price' => '150 THB',
            'description' => 'Perfect for families with spacious layout and extra comfort.',
            'category' => 'BEEF',
            'size' => '50 sq.m.',
            'view' => 'garden view',
            'bed' => '2 queen size',
        ],
        [
            'id' => 12,
            'image' => '/image/44.jpg',
            'name' => 'LATTE',
            'price' => '150 THB',
            'description' => 'Perfect for families with spacious layout and extra comfort.',
            'category' => 'SOUP',
            'size' => '50 sq.m.',
            'view' => 'garden view',
            'bed' => '2 queen size',
        ],
        [
            'id' => 13,
            'image' => '/image/44.jpg',
            'name' => 'MOCHA',
            'price' => '150 THB',
            'description' => 'Perfect for families with spacious layout and extra comfort.',
            'category' => 'BEEF',
            'size' => '50 sq.m.',
            'view' => 'garden view',
            'bed' => '2 queen size',
        ],
        [
            'id' => 14,
            'image' => '/image/44.jpg',
            'name' => 'MOCHA',
            'price' => '150 THB',
            'description' => 'Perfect for families with spacious layout and extra comfort.',
            'category' => 'BEEF',
            'size' => '50 sq.m.',
            'view' => 'garden view',
            'bed' => '2 queen size',
        ],
        [
            'id' => 15,
            'image' => '/image/44.jpg',
            'name' => 'AFFOGATO',
            'price' => '150 THB',
            'description' => 'Perfect for families with spacious layout and extra comfort.',
            'category' => 'BEEF',
            'size' => '50 sq.m.',
            'view' => 'garden view',
            'bed' => '2 queen size',
        ],
        [
            'id' => 16,
            'image' => '/image/44.jpg',
            'name' => 'CORTADO',
            'price' => '150 THB',
            'description' => 'Perfect for families with spacious layout and extra comfort.',
            'category' => 'BEEF',
            'size' => '50 sq.m.',
            'view' => 'garden view',
            'bed' => '2 queen size',
        ],
    ];
@endphp

@php
    $CategoryData = [
        [
            'id' => 1,
            'name' => 'BEEF',
        ],
        [
            'id' => 2,
            'name' => 'LAMR',
        ],
        [
            'id' => 3,
            'name' => 'VEAL',
        ],
        [
            'id' => 4,
            'name' => 'PORK',
        ],
        [
            'id' => 5,
            'name' => 'FISH',
        ],
        [
            'id' => 6,
            'name' => 'SOUP',
        ],
    ];
@endphp

<div class="bg-[#f3f4f6]">
    <div class="2xl:w-[1300px] w-full mx-auto max-2xl:px-4 xl:py-[4rem] py-[2.5rem] ">
        <p  class="xl:text-4xl text-2xl font-semibold ">FOOD MENU</p>
        <div class="flex justify-between">
            <p class="xl:text-[16px] text-[12px] font-medium">THE KITCHEN BEEF BISTRO</p>
            <p class="xl:text-[16px] text-[12px] text-gray-400 font-medium">Home / Food Menu</p>
        </div>

        <div class="border-gray-300/40 border-t-2 xl:mt-8 mt-4"></div>

        <div class="w-full flex xl:flex-row flex-col gap-6 mx-auto relative xl:mt-9 mt-4 ">
            <!-- ส่วนซ้าย -->
            <div data-aos="fade-right" data-aos-duration="1000" class="xl:w-[250px] w-full">
                <p class="xl:text-4xl text-2xl font-semibold">MENU</p>
                <ul
                    class="flex xl:flex-col flex-row max-xl:gap-9 xl:w-[100px] w-full mt-4 xl:list-disc list-inside overflow-x-auto">
                    @foreach ($CategoryData as $category)
                        <li data-category="{{ $category['name'] }}"
                            class="category-item border-gray-200 xl:border-t xl:text-[16px] text-[14px] font-medium py-2.5 cursor-pointer hover:text-yellow-500 text-gray-700">
                            {{ $category['name'] }}
                        </li>
                    @endforeach
                </ul>
            </div>

            <div>
                <div data-aos="fade-left" data-aos-duration="1000"
                    class="relative grid sm:grid-cols-3 grid-cols-2 xl:gap-4 gap-3 xl:max-w-[1050px] w-full rounded-sm max-xl:overflow-hidden">
                    @foreach ($MenuData as $item)
                        <div class="page-1 flex flex-col w-full h-auto shadow-md rounded-sm bg-white "
                            data-category="{{ $item['category'] }}">
                            <div
                                class="relative 2xl:w-[332px] w-full xl:h-[380px] lg:h-[300px] sm:h-[220px] h-[150px] cursor-pointer group flex items-center justify-center overflow-hidden">

                                <!-- Link คลิกได้เต็มพื้นที่ -->
                                <a href="{{ route('detail', ['id' => $item['id']]) }}"
                                    class="absolute inset-0 z-10"></a>

                                <!-- รูปภาพ -->
                                <img class="w-full h-full object-cover group-hover:scale-110 duration-300 transition rounded-t-sm"
                                    src="{{ $item['image'] }}" alt="{{ $item['name'] }}" loading="lazy">

                                <!-- Overlay เมื่อ hover -->
                                <div
                                    class="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                    <!-- ไอคอน -->
                                    <img class=" xl:w-[80px] w-[40px] h-auto" src="/icons/food-dinner-svgrepo-com.png"
                                        alt="">
                                </div>
                            </div>

                            <div class="text-center">
                                <p class="xl:text-[16px] text-[12px] font-medium mt-4 text-gray-700">
                                    {{ $item['name'] }}
                                </p>
                                <button onclick="window.location.href='{{ route('detail', ['id' => $item['id']]) }}'"
                                    class="xl:w-[120px] w-[80px] xl:py-2 py-1.5 rounded-full bg-gradient-to-r from-gray-900 to-gray-700 hover:from-gray-700 hover:to-gray-500 active:from-gray-600 active:to-gray-400 hover:scale-105 shadow-md xl:text-[16px] text-[12px] font-medium mt-4 mb-6 text-white transition-all duration-300 ease-in-out">
                                    {{ $item['price'] }}
                                </button>
                            </div>
                        </div>
                    @endforeach
                </div>

                <!-- Pagination -->
                <div class="flex justify-center w-full xl:mt-12 mt-8">
                    <div id="pagination" class="flex space-x-2 mt-4 "></div>
                </div>

            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const categoryItems = document.querySelectorAll(".category-item");
        const productItems = document.querySelectorAll(".page-1");

        categoryItems.forEach(item => {
            item.addEventListener("click", function() {
                const selectedCategory = this.getAttribute("data-category");

                productItems.forEach(product => {
                    const productCategory = product.getAttribute("data-category");

                    if (productCategory === selectedCategory || selectedCategory ===
                        "ALL") {
                        product.style.display = "flex"; // แสดงสินค้าที่ตรงกับหมวดหมู่
                    } else {
                        product.style.display = "none"; // ซ่อนสินค้าที่ไม่ตรง
                    }
                });

                // ลบ active class จากหมวดหมู่อื่น
                categoryItems.forEach(i => i.classList.remove("text-yellow-500"));
                // เพิ่ม active class ให้หมวดหมู่ที่เลือก
                this.classList.add("text-yellow-500");
            });
        });
    });
</script>

<script>
    let totalPages = 4;
    let currentPage = parseInt(localStorage.getItem("currentPage")) || 1;

    function createPagination(pages, page) {
        localStorage.setItem("currentPage", page);
        currentPage = page;

        let paginationHTML = '<div class="flex gap-2">';

        if (page > 1) {
            paginationHTML += `
                <button onclick="createPagination(${pages}, ${page - 1})" class="px-3 py-1 bg-gray-700 rounded hover:bg-gray-600 text-gray-300">
                    <i class="fas fa-chevron-left"></i>
                </button>`;
        }

        for (let p = 1; p <= pages; p++) {
            let activeClass = page === p ? "bg-yellow-500 text-white" : "bg-gray-700 text-gray-300 hover:bg-gray-600";
            paginationHTML +=
                `<button onclick="createPagination(${pages}, ${p})" class="px-3 py-1 rounded ${activeClass}">${p}</button>`;
        }

        if (page < pages) {
            paginationHTML += `
                <button onclick="createPagination(${pages}, ${page + 1})" class="px-3 py-1 bg-gray-700 rounded hover:bg-gray-600 text-gray-300">
                    <i class="fas fa-chevron-right"></i>
                </button>`;
        }

        paginationHTML += '</div>';

        document.getElementById("pagination").innerHTML = paginationHTML;
    }

    createPagination(totalPages, currentPage);
</script>
